---
output: 
  pdf_document:
    includes:
      in_header: "Report.preamble.tex"
params: 
    surveyTable: NULL
    surveyTablePrepped: NULL
    nvcAverageSim: NULL
    assignNVCResults: NULL
    sidebar_options: NULL
bibliography: Report.refs.bib
link-citations: yes
editor_options: 
  markdown: 
    wrap: 72
title: \textbf{\textcolor{ceh.dark.blue}{MAVIS}}
subtitle: \textbf{\textcolor{ceh.dark.blue}{User Report}}
# author: "Author"
date: \textbf{\textcolor{ceh.dark.blue}{`r Sys.Date()`}}
---

```{r load_packages, message=FALSE, warning=FALSE, include=FALSE}
library(tidyverse)
library(kableExtra)
```

```{r retrieve_data, message=FALSE, warning=FALSE, include=FALSE}

# source("../create_constants.R", local = knitr::knit_global())
# sys.source("./create_constants.R", envir = knitr::knit_global())

surveyTable <- params$surveyTable
surveyTablePrepped <- params$surveyTablePrepped
nvcAverageSim <- params$nvcAverageSim
assignNVCResults <- params$assignNVCResults
sidebar_options <- params$sidebar_options

```

# Introduction
The Modular Analysis of Vegetation Information System (MAVIS) is a tool..


\newpage
# Results

## Jaccard Similarity - Pseudo-quadrat Method

```{r nvcAverageSimTable, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}

nvcAverageSimTable <- nvcAverageSim

kableExtra::kbl(x = nvcAverageSimTable, format = "latex", booktabs = TRUE,
                longtable = TRUE, linesep = "",
                caption = "The top N NVC communities fitted using the pseudo-quadrat method.") |>
  kableExtra::kable_styling(latex_options = c("repeat_header", "HOLD_position"))

```

\newpage
## Habitat Correspondences

\newpage
## Composed Floristic Tables

\newpage
## Detrended Correspondence Analysis

\newpage
# Appendix

## Samples

```{r samplesTable, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}

samplesTable <- surveyTablePrepped |>
  dplyr::select(ID) |>
  dplyr::distinct()

kableExtra::kbl(x = samplesTable, format = "latex", booktabs = TRUE,
                longtable = TRUE, linesep = "",
                caption = "Samples assessed in the analysis.") |>
  kableExtra::kable_styling(latex_options = c("repeat_header", "HOLD_position"))

```

## Survey Data Table

```{r surveyTable, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}

kableExtra::kbl(x = surveyTable, format = "latex", booktabs = TRUE,
                longtable = TRUE, linesep = "",
                caption = "Survey Data Table") |>
  kableExtra::kable_styling(latex_options = c("repeat_header", "HOLD_position"))

```

